import{a as c,j as t,r as f,s as n,B as d}from"./@mui-926ab118.js";import{r}from"./react-4cc0034d.js";import"./clsx-0839fdbe.js";import"./react-transition-group-dd4db10c.js";import"./@babel-591e0485.js";import"./react-dom-502af1e5.js";import"./scheduler-765c72db.js";import"./@emotion-4d3fcc43.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./stylis-79144faa.js";const U=()=>{const[i,h]=r.useState(null),[v,s]=r.useState([]);r.useState(""),r.useState("");const[m,u]=r.useState(""),l=async()=>{try{const e=await fetch("/video_feed",{cache:"no-store"});if(e.ok){const a=await e.blob(),o=URL.createObjectURL(a);i&&URL.revokeObjectURL(i),h(o)}else console.error("No video available:",e.statusText)}catch(e){console.error("Error fetching video:",e),setTimeout(l,2e4)}},p=async()=>{try{const e=await fetch("http://localhost:5000/video_feed"),a=e.headers.get("Content-Type");if(a&&a.includes("application/json")){const o=await e.json();o.s3_videos?s(o.s3_videos):s([])}else{const o=await e.text();console.error("Expected JSON but received:",o)}}catch(e){console.error("Error fetching videos:",e)}};return r.useEffect(()=>{l()},[]),c("div",{className:"flex min-h-screen bg-white",children:[t("div",{className:"w-[70%] flex flex-col items-center justify-center text-gray-500 text-lg bg-gray-200",children:t("h1",{className:"mb-4 text-xl font-semibold",children:"Live Video Feed"})}),c("div",{className:"w-[30%] p-8 space-y-6 bg-gray-100",children:[c("div",{children:[t("label",{className:"block text-gray-700 font-medium mb-2",children:"Select the Camera:"}),c(f,{value:m,onChange:e=>u(e.target.value),variant:"outlined",fullWidth:!0,sx:{backgroundColor:"#f0f0f0"},children:[t(n,{value:"camera1",children:"Camera 1"}),t(n,{value:"camera2",children:"Camera 2"})]})]}),t(d,{variant:"contained",color:"primary",fullWidth:!0,sx:{backgroundColor:"#1976d2",color:"white",height:"48px","&:hover":{backgroundColor:"#1565c0"}},onClick:p,children:"Show Live Video"}),t(d,{variant:"contained",color:"primary",fullWidth:!0,sx:{backgroundColor:"#1976d2",color:"white",height:"48px","&:hover":{backgroundColor:"#1565c0"}},children:"Take Snapshot"}),t("div",{})]})]})};export{U as default};
